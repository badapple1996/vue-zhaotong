{"ast":null,"code":"import Vue from 'vue';\nimport Router from 'vue-router';\nimport { constantRouterMap } from './router.config.js';\n\n// hack router push callback\nconst originalPush = Router.prototype.push;\nRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(err => err);\n};\nVue.use(Router);\nconst createRouter = () => new Router({\n  // mode: 'history', // 如果你是 history模式 需要配置vue.config.js publicPath\n  // base: process.env.BASE_URL,\n  scrollBehavior: () => ({\n    y: 0\n  }),\n  routes: constantRouterMap\n});\nconst router = createRouter();\n\n// Detail see: https://github.com/vuejs/vue-router/issues/1234#issuecomment-357941465\nexport function resetRouter() {\n  const newRouter = createRouter();\n  router.matcher = newRouter.matcher; // reset router\n}\n\nexport default router;","map":null,"metadata":{},"sourceType":"module"}